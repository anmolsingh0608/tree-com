"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5625],{5625:(y,f,s)=>{s.r(f),s.d(f,{FiltersModule:()=>C});var d=s(6895),u=s(2977),m=s(9625),o=s(4719),t=s(6353),g=s(4465),p=s(8447);function v(i,n){if(1&i&&(t.TgZ(0,"option",13),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.s9C("value",e.value),t.xp6(1),t.Oqu(e.option)}}function b(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",14)(2,"div",15),t._UZ(3,"input",16),t.qZA(),t.TgZ(4,"div",17)(5,"button",18),t.NdJ("click",function(){const a=t.CHM(e).index,c=t.oxw();return t.KtG(c.removeItem(a))}),t._uU(6,"Remove"),t.qZA()()()()}if(2&i){const e=n.index;t.xp6(3),t.Q6J("formControlName",e)}}let h=(()=>{class i{constructor(e,r,l,a){this.toastService=e,this.filterService=r,this.route=l,this.router=a,this.subscriptions=[],this.filterForm=new o.cw({name:new o.NI("",o.kI.required),item:new o.Oe([])}),this.namesArray=[{value:"form",option:"Form"},{value:"fruit",option:"Fruit"},{value:"tolerances",option:"Tolerances"},{value:"size",option:"Size"},{value:"fallColor",option:"Fall Color"},{value:"flowerColor",option:"Flower Color"},{value:"flowerTime",option:"Flower Time"},{value:"growthRate",option:"Growth Rate"},{value:"nativeRegion",option:"Native Region"}]}get items(){return this.filterForm.get("item")}ngOnInit(){const e=this.route.params.subscribe(r=>{if(r.id){this.filterId=r.id;const l=this.filterService.getFilter(r.id).subscribe(a=>{this.filter=a.data,this.items.clear(),this.filter.item.forEach(c=>this.items.push(new o.NI(c,o.kI.required))),this.filterForm.patchValue(this.filter),this.filterForm.controls.name.disable()});this.subscriptions.push(l)}});this.subscriptions.push(e)}removeItem(e){this.items.removeAt(e)}addItem(){this.items.push(new o.NI("",o.kI.required))}save(){if(!this.filterForm.valid)return void this.toastService.presentToast("Please fill all the required fields");let e=null;e=this.filterService.create(this.filterForm.value),this.filterId&&(this.filterForm.value.name=this.filter.name,e=this.filterService.updateFilters(this.filterForm.value,this.filterId));const r=e.subscribe(l=>{this.toastService.presentToast("Filter saved successfully"),this.navigate()});this.subscriptions.push(r)}navigate(){this.router.navigate(["/admin/filters/"])}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.k),t.Y36(p.q),t.Y36(m.gz),t.Y36(m.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-create"]],decls:23,vars:3,consts:[[1,"container"],[1,"header","d-flex","justify-content-between"],[3,"formGroup"],[1,"form-group"],["for","name"],["id","name","formControlName","name",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","item"],["id","add-item",1,"btn","btn-primary","mt-2","mb-2",3,"click"],["formArrayName","item"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","mt-2",3,"click"],[3,"value"],[1,"row"],[1,"col-10"],["type","text","placeholder","item",1,"form-control","mb-2",3,"formControlName"],[1,"col-2"],[1,"btn","btn-danger","mb-2",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"ion-content")(1,"div",0)(2,"div",1)(3,"h2"),t._uU(4,"Filter"),t.qZA()(),t.TgZ(5,"form",2)(6,"div",3)(7,"label",4),t._uU(8,"Name"),t.qZA(),t.TgZ(9,"select",5)(10,"option",6),t._uU(11,"None"),t.qZA(),t.YNc(12,v,2,2,"option",7),t.qZA()(),t.TgZ(13,"div",3)(14,"label",8),t._uU(15,"Item"),t.qZA(),t._UZ(16,"br"),t.TgZ(17,"button",9),t.NdJ("click",function(){return r.addItem()}),t._uU(18,"Add new item"),t.qZA(),t.TgZ(19,"div",10),t.YNc(20,b,7,1,"div",11),t.qZA()(),t.TgZ(21,"button",12),t.NdJ("click",function(){return r.save()}),t._uU(22,"Save"),t.qZA()()()()),2&e&&(t.xp6(5),t.Q6J("formGroup",r.filterForm),t.xp6(7),t.Q6J("ngForOf",r.namesArray),t.xp6(8),t.Q6J("ngForOf",r.items.controls))},dependencies:[d.sg,u.W2,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.sg,o.u,o.CE]}),i})();var F=s(5861);function Z(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",6)(6,"button",7)(7,"span",8),t._uU(8," edit "),t.qZA()(),t.TgZ(9,"button",9),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.delete(a.id))}),t.TgZ(10,"span",8),t._uU(11," delete "),t.qZA()()()()}if(2&i){const e=n.$implicit,r=n.index;t.xp6(2),t.Oqu(r+1),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.MGl("routerLink","/admin/filters/create/",e.id,"")}}const T=[{path:"create/:id",component:h},{path:"create",component:h},{path:"",component:(()=>{class i{constructor(e,r){this.filterService=e,this.alertController=r,this.subscriptions=[],this.filters=[]}ngOnInit(){}ionViewDidEnter(){const e=this.getFilters().subscribe(r=>{this.filters=r.data});this.subscriptions.push(e)}getFilters(){return this.filterService.getFilters()}delete(e){var r=this;return(0,F.Z)(function*(){yield(yield r.alertController.create({header:"Do you want to delete this user?",buttons:[{text:"Cancel",role:"cancel",handler:()=>{}},{text:"Delete",role:"confirm",handler:()=>{const a=r.filterService.delete(e).subscribe(c=>{r.filters=r.filters.filter(_=>_.id!==e)});r.subscriptions.push(a)}}]})).present()})()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.q),t.Y36(u.Br))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-list"]],decls:18,vars:1,consts:[[1,"container"],[1,"header","d-flex","justify-content-between"],["routerLink","/admin/filters/create",1,"btn","btn-primary"],[1,"table-responsive"],[1,"table-striped","w-100"],[4,"ngFor","ngForOf"],[1,"p-1"],[1,"btn","btn-primary",3,"routerLink"],[1,"material-icons-outlined"],[1,"btn","btn-danger","ms-1",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"ion-content")(1,"div",0)(2,"div",1)(3,"h2"),t._uU(4,"Filters"),t.qZA(),t.TgZ(5,"button",2),t._uU(6,"Add Filter"),t.qZA()(),t.TgZ(7,"div",3)(8,"table",4)(9,"thead")(10,"th"),t._uU(11,"#"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Name"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Actions"),t.qZA()(),t.TgZ(16,"tbody"),t.YNc(17,Z,12,3,"tr",5),t.qZA()()()()()),2&e&&(t.xp6(17),t.Q6J("ngForOf",r.filters))},dependencies:[d.sg,m.rH,u.W2,u.YI]}),i})()}];let A=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[m.Bz.forChild(T),m.Bz]}),i})(),C=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[d.ez,A,u.Pc,o.UX]}),i})()}}]);