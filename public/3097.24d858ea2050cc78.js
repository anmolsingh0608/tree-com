"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3097],{3097:(f,d,n)=>{n.r(d),n.d(d,{AdminModule:()=>p});var h=n(6895),s=n(9625),r=n(4719),m=n(8751),t=n(6353),l=n(4465),c=n(6311);const g=[{path:"",loadChildren:()=>n.e(1247).then(n.bind(n,1247)).then(e=>e.NavPageModule),canActivate:[(()=>{class e{constructor(o,i,a){this.authService=o,this.router=i,this.toastService=a}canActivate(o,i){const a=this.authService.isLoggedIn();return a||(this.toastService.presentToast("You must be logged in to view this page."),this.router.navigate(["/admin/auth"])),a}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(c.e),t.LFG(s.F0),t.LFG(l.k))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]},{path:"auth",component:(()=>{class e{constructor(o,i,a){this.tostService=o,this.authService=i,this.router=a,this.loginForm=new r.cw({username:new r.NI("",r.kI.required),password:new r.NI("",r.kI.required)})}ngOnInit(){}ionviewDidEnter(){this.authService.loginType=m.i.ADMIN}login(){this.loginForm.invalid?this.tostService.presentToast("Please enter valid credentials."):this.authService.login(this.loginForm.value).subscribe(o=>{this.authService.setData(o.data),this.router.navigateByUrl("/admin")})}goBack(){this.router.navigate(["/main/trees"])}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l.k),t.Y36(c.e),t.Y36(s.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-auth"]],decls:17,vars:1,consts:[[1,"container"],[3,"formGroup"],[1,"form-group","mt-2"],["for","username"],["formControlName","username","type","text","id","username","placeholder","doejohn","autocapitalize","none",1,"form-control"],["for","password"],["formControlName","password","type","password","id","password","placeholder","Password","autocapitalize","none",1,"form-control"],[1,"btn","btn-primary","w-100","mt-2",3,"click"],[1,"btn","btn-warning","w-100","mt-2",3,"click"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Login"),t.qZA(),t.TgZ(3,"div")(4,"form",1)(5,"div",2)(6,"label",3),t._uU(7,"Username"),t.qZA(),t._UZ(8,"input",4),t.qZA(),t.TgZ(9,"div",2)(10,"label",5),t._uU(11,"Password"),t.qZA(),t._UZ(12,"input",6),t.qZA(),t.TgZ(13,"button",7),t.NdJ("click",function(){return i.login()}),t._uU(14," Login "),t.qZA(),t.TgZ(15,"button",8),t.NdJ("click",function(){return i.goBack()}),t._uU(16," Back to tree selection "),t.qZA()()()()),2&o&&(t.xp6(4),t.Q6J("formGroup",i.loginForm))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),e})(),canActivate:[(()=>{class e{constructor(o,i){this.router=o,this.authService=i}canActivate(o,i){const a=this.authService.isLoggedIn();return a&&this.router.navigate(["/admin/users"]),!a}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(s.F0),t.LFG(c.e))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]}];let v=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.Bz.forChild(g),s.Bz]}),e})(),p=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.ez,r.UX,v]}),e})()}}]);